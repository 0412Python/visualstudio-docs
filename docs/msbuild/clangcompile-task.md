---
title: "ClangCompile Task | Microsoft Docs"
ms.date: "03/10/2019"
ms.topic: "reference"
f1_keywords:
  - "vc.task.clangcompile"
dev_langs:
  - "VB"
  - "CSharp"
  - "C++"
  - "jsharp"
  - "C++"
helpviewer_keywords:
  - "MSBuild (Visual C++), ClangCompile task"
  - "ClangCompile task (MSBuild (Visual C++))"
ms.assetid: b62a482e-8fb5-4999-b50b-6605a078e291
author: mikeblome
ms.author: Michael.Blome
ms.workload:
  - "multiple"
---
# ClangCompile task

Wraps the Visual C++ compiler tool, clang.exe.

## Methods

The following tables describe the methods of the **ClangCompile** task.

### Protected Override

All methods as `protected override`:

|Method|Description (Return Value)|
|---------------|-----------------|
|**AlwaysAppend**|Default is `-c`. (**string**)|
|**CommandTLogName**|(**string**)|
|**ExecuteTool**|Uses parameters **string** *pathToTool*, **string** *responseFileCommands*, and **string** *commandLineCommands*. (**int**)|
|**GenerateResponseFileCommandsExceptSwitches**| Uses parameters **string[]** *switchesToRemove*, **CommandLineFormat** *format* [default = **CommandLineFormat.ForBuildLog**], and **EscapeFormat** *escapeFormat* [default = **EscapeFormat.EscapeTrailingSlash**]. (**string**)|
|**MaintainCompositeRootingMarkers**|(**bool**)|
|**ReadTLogNames**|(**string[]**)|
|**RemoveTaskSpecificInputs**|Uses parameter **CanonicalTrackedInputFiles** *compactInputs*. (**void**)|
|**ResponseFileEncoding**|(**Encoding**)|
|**StandardOutputEncoding**|(**Encoding**)|
|**StandardErrorEncoding**|(**Encoding**)|
|**SwitchOrderList**|(**ArrayList**)|
|**ToolName**|[default = *clang.exe*] (**string**)|
|**TrackerImmediateDirectory**|(**string**)|
|**TrackedInputFiles**|(**ITaskItem[]**)|
|**WriteTLogNames**|(**string[]**)|

### Public

All methods as `public`:

|Method|Description (Return Value)|
|---------------|-----------------|
|**ClangVersion**|(**string**)|
|**GNUMode**|(**bool**)|

#### Public Virtual

All methods as `public virtual`:

|Method|Description (Return Value)|
|---------------|-----------------|
|**AdditionalIncludeDirectories**|Specifies one or more directories to add to the include path; separate with semi-colons if more than one. (**string[]**)<br/><br/>Use `-I[path]`.|
|**AdditionalOptions**|Additional Options. (**string**)|
|**BufferSecurityCheck**|The Security Check helps detect stack-buffer over-runs, a common attempted attack upon a program's security. (**string**)<br/><br/>Use `fstack-protector`.|
|**BuildingInIde**|(**bool**)|
|**CLanguageStandard**|Determines the C language standard. (**string**)<br/><br/>Use `std=[value]` with value of **c89**, **c99**, **c11**, **gnu99**, or **gnu11**.|
|**CompileAs**|Select compile language option for .c and .cpp files. Default will detect based on .c or .cpp extention. (**string**)<br/><br/>Use `-x c`, `-x c++`.|
|**CppLanguageStandard**|Determines the C++ language standard. (**string**)<br/><br/>Use `std=[value]` with value of **c++98**, **c++11**, **c++1y**, **gnu++98**, **gnu++11**, or **gnu++1y**.|
|**DataLevelLinking**|Enables linker optimizations to remove unused data by emitting each data item in a separate section. (**bool**)|
|**DebugInformationFormat**|Specifies the type of debugging information generated by the compiler. (**string**)<br/><br/>**None**, produces no debugging information, so compilation may be faster. Use `g0`.<br/>**FullDebug**, generate DWARF2 debug information. Use `g2 -gdwarf-2`.<br/>**LineNumber**, generate Line Number information only. Use `gline-tables-only`.|
|**EnableNeonCodegen**|Enables code generation for NEON floating point hardware. This is applicable for arm architecture only. (**bool**)|
|**ExceptionHandling**|Specifies the model of exception handling to be used by the compiler. (**string**)<br/><br/>**Disabled**, disable exception handling. Use `fno-exceptions`.<br/>**Enabled**, enable exception handling. Use `fexceptions`.<br/>**UnwindTables**, generates any needed static data, but does not affect the code generated. Use `funwind-tables`.|
|**FloatABI**|Selection option to choose the floating point ABI. (**string**)<br/><br/>**soft**, causes compiler to generate output containing library calls for floating-point operations. Use `mfloat-abi=soft`.<br/>**softfp**, allows the generation of code using hardware floating-point instructions, but still uses the soft-float calling conventions. Use `mfloat-abi=softfp`.<br/>**hard**, allows generation of floating-point instructions and uses FPU-specific calling conventions. Use `mfloat-abi=hard`.|
|**ForcedIncludeFiles**|One or more forced include files. (**string[]**)<br/><br/>Use `-include [name]`.|
|**FunctionLevelLinking**|Allows the compiler to package individual functions in the form of packaged functions (COMDATs). Required for edit and continue to work. (**bool**)<br/><br/>Use `ffunction-sections`.|
|**GccToolChain**|Folder path to Gcc Tool Chain. (**string**)|
|**MSCompatibility**|Enable full Microsoft Visual C++ compatibility. (**bool**)|
|**MSCompatibilityVersion**|Dot-separated value representing the Microsoft compiler version number to report in _MSC_VER (0 = don't define it (default)). (**string**)|
|**MSExtensions**|Accept some non-standard constructs supported by the Microsoft compiler. (**bool**)|
|**MSCompilerVersion**|Microsoft compiler version number to report in _MSC_VER (0 = don't define it (default)). (**string**)|
|**MSVCErrorReport**|Report errors which Visual Studio can use to parse for file and line information. (**bool**)|
|**ObjectFileName**|Specifies a name to override the default object file name; can be file or directory name. (**string**)<br/><br/>Use `/Fo[name]`.|
|**OmitFramePointers**|Suppresses creation of frame pointers on the call stack. (**bool**)|
|**Optimization**|Specifies the optimization level for the application. (**string**)<br/><br/>**Custom**, custom optimization.<br/>**Disabled**, disable optimization. Use `O0`.<br/>**MinSize**, optimize for size. Use `Os`.<br/>**MaxSpeed**, optimize for speed. Use `O2`.<br/>**Full**, expensive optimizations. Use `O3`.|
|**PositionIndependentCode**|Generate Position Independent Code (PIC) for use in a shared library. (**bool**)|
|**PrecompiledHeader**|Enables creation or use of a precompiled header during the build. (**string**)|
|**PrecompiledHeaderFile**|Specifies header file name to use for precompiled header file. This file will be also added to **Forced Include Files** during build. (**string**)|
|**PrecompiledHeaderOutputFileDirectory**|Specifies the directory for the generated precompiled header. This directory will be also added to **Additional Include Directories** during build. (**string**)|
|**PrecompiledHeaderCompileAs**|Select compile language option for precompiled header file. (**string**)<br/><br/>Use `-x c-header`, `-x c++-header`.|
|**PreprocessorDefinitions**|Defines a preprocessing symbols for your source file. (**string[]**)<br/><br/>Use `-D`.|
|**RuntimeLibrary**|Specify runtime library for linking. (**string**)<br/><br/>Use `MSVC /MT`, `/MTd`, `/MD`, `/MDd` switches.<br/><br/>**MultiThreaded**, causes your application to use the multithread, static version of the run-time library.<br/>**MultiThreadedDebug**, defines _DEBUG and _MT. This option also causes the compiler to place the library name LIBCMTD.lib into the .obj file so that the linker will use LIBCMTD.lib to resolve external symbols.<br/>**MultiThreadedDLL**, causes your application to use the multithread- and DLL-specific version of the run-time library. Defines _MT and _DLL and causes the compiler to place the library name MSVCRT.lib into the .obj file.<br/>**MultiThreadedDebugDLL**, defines _DEBUG, _MT, and _DLL and causes your application to use the debug multithread- and DLL-specific version of the run-time library. It also causes the compiler to place the library name MSVCRTD.lib into the .obj file.|
|**RuntimeTypeInfo**|Adds code for checking C++ object types at run time (runtime type information). (**bool**)<br/><br/>Use `frtti`, `fno-rtti`.|
|**ShowIncludes**|Generates a list of include files with compiler output. (**bool**)<br/><br/>Use `-H`.|
|**Sources**|(**ITaskItem[]**) *required*|
|**StrictAliasing**|Assume the strictest aliasing rules. An object of one type will never be assumed to reside at the same address as an object of a different type. (**bool**)|
|**Sysroot**|Folder path to the root directory for headers and libraries. (**string**)|
|**TargetArch**|Target Architecture. (**string**)|
|**ThumbMode**|Generate code that executes for thumb microarchitecture. This is applicable for arm architecture only. (**string**)<br/><br/>**Thumb**, generate Thumb code. Use `mthumb`.<br/>**ARM**, generate Arm code. Use `marm`.<br/>**Disabled**, option not applicable for chosen platform.|
|**TrackerLogDirectory**|Tracker Log Directory. (**string**)|
|**TreatWarningAsError**|Treats all compiler warnings as errors. (**bool**)<br/><br/>For a new project, it may be best to use `/WX` in all compilations; resolving all warnings will ensure the fewest possible hard-to-find code defects.|
|**UndefinePreprocessorDefinitions**|Specifies one or more preprocessor undefines. (**string[]**)<br/><br/>Use `-U [macro]`.|
|**UndefineAllPreprocessorDefinitions**|Undefine all previously defined preprocessor values. (**bool**)<br/><br/>Use `-undef`.|
|**UseMultiToolTask**|Multi-processor Compilation. (**bool**)|
|**UseShortEnums**|Enum type uses only as many bytes required by input set of possible values. (**bool**)|
|**Verbose**|Show commands to run and use verbose output. (**bool**)|
|**WarningLevel**|Select how strict you want the compiler to be about code errors. Other flags should be added directly to **Additional Options**. (**string**)<br/><br/>Use `/w`, `/Weverything`.<br/>**TurnOffAllWarnings**, disables all compiler warnings. Use `w`.<br/>**EnableAllWarnings**, enables all warnings, including those disabled by default. Use `Wall`.|

## See also

[Task reference](../msbuild/msbuild-task-reference.md)